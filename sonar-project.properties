# Project identification
sonar.projectKey=nusanet_nusahire_AZhZb275_KIUeGBBlVuR
sonar.projectName=nusahire
sonar.projectVersion=1.0

# Sonarqube server
sonar.host.url=https://sonar.nusa.work
sonar.token=squ_ae6ee54e09e735d380d12c84f61e157473670225

# Source code location.
# Path is relative to the sonar-project.properties file. Defaults to .
# Use commas to specify more than one file/folder.
# HANYA scan folder app/ (main source code yang perlu coverage)
sonar.sources=app
sonar.language=php
sonar.test=tests

# Exclude code location - exclude file yang tidak perlu coverage
sonar.exclusions=app/Console/Kernel.php,app/Exceptions/Handler.php,app/Providers/**

# Encoding of the source code. Default is default system encoding.
sonar.sourceEncoding=UTF-8

# Code Coverage
sonar.php.coverage.reportPaths=build/logs/coverage-clover.xml

# Exclude dari coverage calculation (file di dalam app/ yang tidak perlu/bisa di-test)
# Catatan: karena sonar.sources=app, hanya perlu exclude file dalam app/
sonar.coverage.exclusions=\
    app/Console/**,\
    app/Exceptions/**,\
    app/Providers/**

# Test execution report
sonar.php.tests.reportPath=build/logs/report-unit-test.xml

# Exclude dari duplication detection
# Test files sering punya pattern yang mirip (setup, assertions, dll)
sonar.cpd.exclusions=\
    tests/**,\
    database/migrations/**,\
    database/seeders/**,\
    database/factories/**,\
    app/Http/Requests/**,\
    app/Http/Resources/**
